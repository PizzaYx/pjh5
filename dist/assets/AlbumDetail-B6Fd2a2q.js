import{_ as D}from"./_plugin-vue_export-helper-DD8xY_cn.js";/* empty css              */import{P as A}from"./index-D6mvHvSx.js";import{a as N,S as R}from"./index-Dssnq5gW.js";import{N as q}from"./index-COff_31p.js";import{q as z,d as F,u as L,m as T,r as _,c as n,a as w,b as d,h as i,w as r,I as j,e as t,F as E,j as U,f as $,t as m,s as G,v as H}from"./index-C11bmOf5.js";import{s as J,a as K}from"./function-call-JG_kjMaR.js";z(J);const M={class:"exhibition-container"},O={class:"detail-page"},Q={class:"gallery"},W=["src","alt"],X={class:"info-panel"},Y={class:"album-title"},Z={class:"meta-row"},ee={class:"meta-item"},te={class:"album-desc"},ae=F({__name:"AlbumDetail",setup(se){const b=L(),p=T(),o=_(!1),f=_(!1),l=_(null),v=n(()=>String(p.query.aid||"")),h=n(()=>String(p.query.title||"相册")),y=()=>{b.back()},g=async()=>{try{if(f.value=!0,!v.value){G("缺少相册ID");return}const e=await H.getArticlePhotos(v.value);e.code===1200&&e.data&&(l.value=e.data)}catch(e){console.error("获取图集详情失败:",e)}finally{f.value=!1}};g();const k=()=>{o.value=!0,g().finally(()=>{o.value=!1})},c=n(()=>l.value?.imageDataVec||[]),I=n(()=>c.value[0]?.intro||""),x=e=>{const a=c.value.map(u=>u.imgpath);a.length&&K({images:a,startPosition:e})};return(e,a)=>{const u=j,P=q,S=R,V=N,B=A;return d(),w("div",M,[i(P,{title:"相册",fixed:"",placeholder:"","z-index":"999",border:!1,onClickLeft:y},{left:r(()=>[i(u,{name:"arrow-left",class:"back-icon"})]),_:1}),i(B,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=s=>o.value=s),onRefresh:k},{default:r(()=>[t("div",O,[t("div",Q,[i(V,{class:"gallery-swipe",autoplay:3e3,"indicator-color":"white"},{default:r(()=>[(d(!0),w(E,null,U(c.value,(s,C)=>(d(),$(S,{key:s.id,onClick:oe=>x(C)},{default:r(()=>[t("img",{src:s.imgpath,alt:s.title||h.value,class:"gallery-img",loading:"lazy"},null,8,W)]),_:2},1032,["onClick"]))),128))]),_:1})]),t("div",X,[t("h2",Y,m(l.value?.title||h.value),1),t("div",Z,[t("span",ee,"时间："+m(l.value?.timestamp||"-"),1)]),t("p",te,m(I.value),1)])])]),_:1},8,["modelValue"])])}}}),de=D(ae,[["__scopeId","data-v-b521bbab"]]);export{de as default};

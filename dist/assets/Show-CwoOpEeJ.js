import{_ as N}from"./_plugin-vue_export-helper-DD8xY_cn.js";/* empty css              */import{P as C}from"./index-D6mvHvSx.js";import{L as S}from"./index-DXbmoEtO.js";import{N as V}from"./index-COff_31p.js";import{d as B,u as R,m as D,r as o,c as I,a as f,b as _,h as i,w as p,I as P,e as r,F as q,j as z,t as A,p as F}from"./index-C11bmOf5.js";const U={class:"exhibition-container"},j={class:"content-grid double-column"},E=["onClick"],$=["src","alt"],G={class:"item-info"},H={class:"item-title"},J=B({__name:"Show",setup(K){const v=R(),h=D(),c=o([]),l=o(!1),s=o(!1),n=o(!1),u=o(1),g=I(()=>Number(h.query.classid)||0),b=()=>{v.back()},m=async()=>{try{n.value&&(c.value=[],n.value=!1,u.value=1);const t=await F.getPlateArticleList(g.value,u.value,0);if(t.code===1200&&t.data){const a=t.data||[];c.value.push(...a),u.value++,a.length===0&&(s.value=!0)}else s.value=!0}catch(t){console.error("获取展览列表失败:",t),s.value=!0}finally{l.value=!1}},k=()=>{s.value=!1,l.value=!0,m()},x=t=>{const a=String(t.id||""),d=String(t.title||t.simpletitle||"展览");a&&v.push({path:"/article-detail",query:{aid:a,title:d}})};return(t,a)=>{const d=P,y=V,w=S,L=C;return _(),f("div",U,[i(y,{title:"展览",fixed:"",placeholder:"","z-index":"999",border:!1,onClickLeft:b},{left:p(()=>[i(d,{name:"arrow-left",class:"back-icon"})]),_:1}),i(L,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),onRefresh:k},{default:p(()=>[i(w,{loading:l.value,"onUpdate:loading":a[0]||(a[0]=e=>l.value=e),finished:s.value,"finished-text":"",onLoad:m},{default:p(()=>[r("div",j,[(_(!0),f(q,null,z(c.value,e=>(_(),f("div",{class:"content-item",key:e.id,onClick:M=>x(e)},[r("img",{src:e.imgpath1||e.orgimgpath,alt:e.title,class:"item-img",loading:"lazy"},null,8,$),r("div",G,[r("h3",H,A(e.title||e.simpletitle),1)])],8,E))),128))])]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}}),Z=N(J,[["__scopeId","data-v-1f7973d4"]]);export{Z as default};

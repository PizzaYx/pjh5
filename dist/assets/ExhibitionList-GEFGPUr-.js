import{_ as j}from"./_plugin-vue_export-helper-DD8xY_cn.js";/* empty css              */import{P as w}from"./index-DT2YFU2q.js";import{L as C}from"./index-OVuGm6T4.js";import{N}from"./index-DP1erQjE.js";import{d as V,u as B,m as R,r as l,a as d,b as u,h as c,e as t,w as _,I as E,F as I,j as P,t as q,k as D}from"./index-BLgdBt6Y.js";const F={class:"exhibition-list-container"},S={class:"scroll-content"},U={class:"project-grid"},z=["onClick"],$=["src","alt"],A={class:"info"},G={class:"title"},H=V({__name:"ExhibitionList",setup(J){const f=B(),v=R(),r=l([]),n=l(!1),o=l(!1),i=l(!1),p=Number(v.query.classid)||0,h=()=>{f.back()},m=async()=>{try{i.value&&(r.value=[],i.value=!1);const e=await D.project.getProjectList(p);(e.code===1200||e.code===0)&&e.data&&e.data.records&&(r.value=e.data.records),o.value=!0}catch(e){console.error("获取网上展厅列表失败:",e),o.value=!0}finally{n.value=!1}},b=()=>{o.value=!1,n.value=!0,m()},g=e=>{let s="/exhibition-album";e.name.includes("音乐")?s="/exhibition-music":e.name.includes("展览")?s="/exhibition-show":e.name.includes("视频")?s="/exhibition-video":e.name.includes("相册")&&(s="/exhibition-album"),f.push({path:s,query:{classid:String(e.classid)}})};return(e,s)=>{const x=E,k=N,y=C,L=w;return u(),d("div",F,[c(k,{title:"非遗展览",border:!1,onClickLeft:h},{left:_(()=>[c(x,{name:"arrow-left",class:"back-icon"})]),_:1}),t("div",S,[c(L,{modelValue:i.value,"onUpdate:modelValue":s[1]||(s[1]=a=>i.value=a),onRefresh:b},{default:_(()=>[c(y,{loading:n.value,"onUpdate:loading":s[0]||(s[0]=a=>n.value=a),finished:o.value,"finished-text":"",onLoad:m},{default:_(()=>[t("div",U,[(u(!0),d(I,null,P(r.value,a=>(u(),d("div",{class:"project-item",key:a.classid,onClick:K=>g(a)},[t("img",{src:a.imgmax,alt:a.name,class:"item-bg",loading:"lazy"},null,8,$),t("div",A,[t("h3",G,q(a.name),1)])],8,z))),128))])]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])])}}}),Y=j(H,[["__scopeId","data-v-e5b454c5"]]);export{Y as default};

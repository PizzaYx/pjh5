import{_ as j}from"./_plugin-vue_export-helper-DD8xY_cn.js";import{N as b}from"./index-COff_31p.js";import{d as k,m as C,u as I,r as o,o as w,a as n,b as r,h as _,e as c,w as x,I as L,F as N,j as P,k as B,s as q,t as D}from"./index-C11bmOf5.js";const F={class:"exhibition-list-container"},R={class:"project-grid"},S=["onClick"],V=["src","alt"],z={class:"info"},E={class:"title"},M=k({__name:"ProjectList",setup(T){const a=C(),l=I(),i=o([]),d=o(!1),u=o(!1),p=o(Number(a.query.classid??a.params.classid??a.query.classId??a.params.classId)||null),f=()=>{l.back()},m=async()=>p.value,h=async()=>{const e=await m();if(!e){u.value=!0;return}d.value=!0;try{const s=await B.project.getProjectList(e);(s.code===1200||s.code===0||s.code===200)&&s.data?.records&&(i.value=s.data.records)}catch(s){console.error("获取非遗项目列表失败:",s),q("获取非遗项目失败")}finally{d.value=!1,u.value=!0}};w(()=>{h()});const v=e=>{const s=String(e||"");l.push({path:"/intangible-heritage-list",query:{category:s}})};return(e,s)=>{const g=L,y=b;return r(),n("div",F,[_(y,{title:"非遗项目",border:!1,onClickLeft:f},{left:x(()=>[_(g,{name:"arrow-left",class:"back-icon"})]),_:1}),c("div",R,[(r(!0),n(N,null,P(i.value,t=>(r(),n("div",{class:"project-item",key:t.classid,onClick:$=>v(t.name)},[c("img",{src:t.imgmax,alt:t.name,class:"item-bg",loading:"lazy"},null,8,V),c("div",z,[c("h3",E,D(t.name),1)])],8,S))),128))])])}}}),J=j(M,[["__scopeId","data-v-d8decf65"]]);export{J as default};

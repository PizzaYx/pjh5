import{_ as N}from"./_plugin-vue_export-helper-DD8xY_cn.js";/* empty css              */import{P as C}from"./index-D6mvHvSx.js";import{L as V}from"./index-DXbmoEtO.js";import{N as A}from"./index-COff_31p.js";import{d as B,u as D,m as I,r as l,c as R,n as P,a as _,b as v,h as c,w as p,I as S,e as u,F as q,j as z,t as F,p as U,s as j}from"./index-C11bmOf5.js";const E={class:"exhibition-container"},T={class:"content-grid single-column"},$=["onClick"],G=["src","alt"],H={class:"item-info"},J={class:"item-title"},K=B({__name:"Album",setup(M){const m=D(),g=I(),n=l([]),o=l(!1),s=l(!1),i=l(!1),r=l(1),h=R(()=>Number(g.query.classid)||0),b=()=>{m.back()},d=async()=>{try{i.value&&(n.value=[],i.value=!1,r.value=1);const t=await U.getPlateArticleList(h.value,r.value,0);if(t.code===1200&&t.data){const a=t.data||[];n.value.push(...a),r.value++,a.length===0&&(s.value=!0)}else s.value=!0}catch(t){console.error("获取相册列表失败:",t),s.value=!0}finally{o.value=!1}},x=()=>{s.value=!1,o.value=!0,d()},k=t=>{const a=String(t.id||""),f=String(t.title||t.simpletitle||"相册");if(!a){j("缺少相册ID");return}m.push({path:"/exhibition-album-detail",query:{aid:a,title:f}})};return P(h,()=>{n.value=[],r.value=1,s.value=!1,o.value=!0,d()}),(t,a)=>{const f=S,y=A,w=V,L=C;return v(),_("div",E,[c(y,{title:"相册",fixed:"",placeholder:"","z-index":"999",border:!1,onClickLeft:b},{left:p(()=>[c(f,{name:"arrow-left",class:"back-icon"})]),_:1}),c(L,{modelValue:i.value,"onUpdate:modelValue":a[1]||(a[1]=e=>i.value=e),onRefresh:x},{default:p(()=>[c(w,{loading:o.value,"onUpdate:loading":a[0]||(a[0]=e=>o.value=e),finished:s.value,"finished-text":"",onLoad:d},{default:p(()=>[u("div",T,[(v(!0),_(q,null,z(n.value,e=>(v(),_("div",{class:"content-item",key:e.id,onClick:O=>k(e)},[u("img",{src:e.imgpath1||e.orgimgpath,alt:e.title,class:"item-img",loading:"lazy"},null,8,G),u("div",H,[u("h3",J,F(e.title||e.simpletitle),1)])],8,$))),128))])]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}}),te=N(K,[["__scopeId","data-v-fb9b9c87"]]);export{te as default};

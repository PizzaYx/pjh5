import{_ as D}from"./_plugin-vue_export-helper-DD8xY_cn.js";/* empty css              */import{P as S}from"./index-D3l5Gef1.js";import{N as B}from"./index-BfLQp_tC.js";import{d as C,u as R,m as T,r as c,c as u,a as f,b as h,h as d,w as y,I as q,e as o,g as I,t as _,p as $}from"./index-D962PYms.js";const A={class:"exhibition-container"},P={class:"detail-page"},z={class:"player"},E=["src","poster"],F={class:"info-panel"},L={class:"title"},M={class:"meta-row"},U={class:"meta-item"},Y={class:"desc"},j=C({__name:"VideoDetail",setup(G){const g=R(),n=T(),s=c(!1),p=c(!1),t=c(null),m=u(()=>String(n.query.aid||"")),b=u(()=>String(n.query.title||"视频")),N=u(()=>Number(n.query.type||0)),V=()=>{g.back()},v=async()=>{try{if(p.value=!0,!m.value)return;const e=await $.getArticleDetail(m.value,N.value);e.code===1200&&e.data&&(t.value=e.data)}catch(e){console.error("获取视频详情失败:",e)}finally{p.value=!1}};v();const k=()=>{s.value=!0,v().finally(()=>{s.value=!1})},w=e=>{if(!e)return"";try{const a=new Date(e);if(isNaN(a.getTime()))return"";const l=a.getFullYear(),r=String(a.getMonth()+1).padStart(2,"0"),i=String(a.getDate()).padStart(2,"0");return`${l}-${r}-${i}`}catch{return""}};return(e,a)=>{const l=q,r=B,i=S;return h(),f("div",A,[d(r,{title:"视频",fixed:"",placeholder:"","z-index":"999",border:!1,onClickLeft:V},{left:y(()=>[d(l,{name:"arrow-left",class:"back-icon"})]),_:1}),d(i,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=x=>s.value=x),onRefresh:k},{default:y(()=>[o("div",P,[o("div",z,[t.value?.videourl?(h(),f("video",{key:0,class:"player-video",src:t.value?.videourl,poster:t.value?.imgurl,controls:"",playsinline:"","webkit-playsinline":""},null,8,E)):I("",!0)]),o("div",F,[o("h2",L,_(t.value?.title||b.value),1),o("div",M,[o("span",U,"时间："+_(t.value?.friendlyTime||w(t.value?.publishtime)||"-"),1)]),o("p",Y,_(t.value?.intro||""),1)])])]),_:1},8,["modelValue"])])}}}),W=D(j,[["__scopeId","data-v-7c13e9d5"]]);export{W as default};

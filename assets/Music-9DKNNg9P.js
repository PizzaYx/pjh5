import{_ as w}from"./_plugin-vue_export-helper-DD8xY_cn.js";/* empty css              */import{P as C}from"./index-D3l5Gef1.js";import{L as V}from"./index-CIuWtqkf.js";import{N as B}from"./index-BfLQp_tC.js";import{d as R,u as D,m as I,r as o,c as P,a as f,b as _,h as i,w as p,I as S,e as r,F as q,j as z,t as A,p as F}from"./index-D962PYms.js";const M={class:"exhibition-container"},U={class:"content-grid double-column"},j=["onClick"],E=["src","alt"],$={class:"item-info"},G={class:"item-title"},H=R({__name:"Music",setup(J){const v=D(),h=I(),c=o([]),l=o(!1),s=o(!1),n=o(!1),u=o(1),g=P(()=>Number(h.query.classid)||0),b=()=>{v.back()},m=async()=>{try{n.value&&(c.value=[],n.value=!1,u.value=1);const t=await F.getPlateArticleList(g.value,u.value,0);if(t.code===1200&&t.data){const a=t.data||[];c.value.push(...a),u.value++,a.length===0&&(s.value=!0)}else s.value=!0}catch(t){console.error("获取音乐列表失败:",t),s.value=!0}finally{l.value=!1}},k=()=>{s.value=!1,l.value=!0,m()},x=t=>{const a=String(t.id||""),d=String(t.title||t.simpletitle||"音乐");a&&v.push({path:"/article-detail",query:{aid:a,title:d}})};return(t,a)=>{const d=S,y=B,L=V,N=C;return _(),f("div",M,[i(y,{title:"音乐",fixed:"",placeholder:"","z-index":"999",border:!1,onClickLeft:b},{left:p(()=>[i(d,{name:"arrow-left",class:"back-icon"})]),_:1}),i(N,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),onRefresh:k},{default:p(()=>[i(L,{loading:l.value,"onUpdate:loading":a[0]||(a[0]=e=>l.value=e),finished:s.value,"finished-text":"",onLoad:m},{default:p(()=>[r("div",U,[(_(!0),f(q,null,z(c.value,e=>(_(),f("div",{class:"content-item",key:e.id,onClick:K=>x(e)},[r("img",{src:e.imgpath1||e.orgimgpath,alt:e.title,class:"item-img",loading:"lazy"},null,8,E),r("div",$,[r("h3",G,A(e.title||e.simpletitle),1)])],8,j))),128))])]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}}),Z=w(H,[["__scopeId","data-v-4f302e52"]]);export{Z as default};

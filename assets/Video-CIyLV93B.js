import{_ as L}from"./_plugin-vue_export-helper-DD8xY_cn.js";/* empty css              */import{P as w}from"./index-D3l5Gef1.js";import{L as C}from"./index-CIuWtqkf.js";import{N as B}from"./index-BfLQp_tC.js";import{d as R,u as D,m as I,r as o,c as P,a as f,b as p,h as i,w as v,I as S,e as r,F as q,j as z,t as A,p as F}from"./index-D962PYms.js";const U={class:"exhibition-container"},j={class:"content-grid double-column"},E=["onClick"],$=["src","alt"],G={class:"item-info"},H={class:"item-title"},J=R({__name:"Video",setup(K){const m=D(),g=I(),c=o([]),n=o(!1),s=o(!1),l=o(!1),d=o(1),b=P(()=>Number(g.query.classid)||0),y=()=>{m.back()},h=async()=>{try{l.value&&(c.value=[],l.value=!1,d.value=1);const e=await F.getPlateArticleList(b.value,d.value,0);if(e.code===1200&&e.data){const a=e.data||[];c.value.push(...a),d.value++,a.length===0&&(s.value=!0)}else s.value=!0}catch(e){console.error("获取视频列表失败:",e),s.value=!0}finally{n.value=!1}},x=()=>{s.value=!1,n.value=!0,h()},k=e=>{const a=String(e.id||""),u=String(e.title||e.simpletitle||"视频"),_=Number(e.type||0);a&&m.push({path:"/exhibition-video-detail",query:{aid:a,title:u,type:_}})};return(e,a)=>{const u=S,_=B,N=C,V=w;return p(),f("div",U,[i(_,{title:"视频",fixed:"",placeholder:"","z-index":"999",border:!1,onClickLeft:y},{left:v(()=>[i(u,{name:"arrow-left",class:"back-icon"})]),_:1}),i(V,{modelValue:l.value,"onUpdate:modelValue":a[1]||(a[1]=t=>l.value=t),onRefresh:x},{default:v(()=>[i(N,{loading:n.value,"onUpdate:loading":a[0]||(a[0]=t=>n.value=t),finished:s.value,"finished-text":"",onLoad:h},{default:v(()=>[r("div",j,[(p(!0),f(q,null,z(c.value,t=>(p(),f("div",{class:"content-item",key:t.id,onClick:M=>k(t)},[r("img",{src:t.imgpath1||t.orgimgpath,alt:t.title,class:"item-img",loading:"lazy"},null,8,$),r("div",G,[r("h3",H,A(t.title||t.simpletitle),1)])],8,E))),128))])]),_:1},8,["loading","finished"])]),_:1},8,["modelValue"])])}}}),Z=L(J,[["__scopeId","data-v-d5dd893b"]]);export{Z as default};
